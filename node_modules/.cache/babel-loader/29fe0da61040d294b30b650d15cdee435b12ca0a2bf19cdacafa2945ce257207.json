{"ast":null,"code":"import axios from'axios';import{clearStore}from'../features/user/userSlice';import{getUserFromLocalStorage}from'./localStorage';var customFetch=axios.create({baseURL:'https://jobify-prod.herokuapp.com/api/v1/toolkit'});customFetch.interceptors.request.use(function(config){var user=getUserFromLocalStorage();if(user){config.headers['Authorization']=\"Bearer \".concat(user.token);}return config;});export var checkForUnauthorizedResponse=function checkForUnauthorizedResponse(error,thunkAPI){if(error.response.status===401){thunkAPI.dispatch(clearStore());return thunkAPI.rejectWithValue('Unauthorized! Logging Out...');}return thunkAPI.rejectWithValue(error.response.data.msg);};export default customFetch;","map":{"version":3,"names":["axios","clearStore","getUserFromLocalStorage","customFetch","create","baseURL","interceptors","request","use","config","user","headers","token","checkForUnauthorizedResponse","error","thunkAPI","response","status","dispatch","rejectWithValue","data","msg"],"sources":["C:/Reactjs/redux-toolkit-jobster/src/utils/axios.js"],"sourcesContent":["import axios from 'axios';\r\nimport { clearStore } from '../features/user/userSlice';\r\nimport { getUserFromLocalStorage } from './localStorage';\r\n\r\nconst customFetch = axios.create({\r\n  baseURL: 'https://jobify-prod.herokuapp.com/api/v1/toolkit',\r\n});\r\n\r\ncustomFetch.interceptors.request.use((config) => {\r\n  const user = getUserFromLocalStorage();\r\n  if (user) {\r\n    config.headers['Authorization'] = `Bearer ${user.token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\nexport const checkForUnauthorizedResponse = (error, thunkAPI) => {\r\n  if (error.response.status === 401) {\r\n    thunkAPI.dispatch(clearStore());\r\n    return thunkAPI.rejectWithValue('Unauthorized! Logging Out...');\r\n  }\r\n  return thunkAPI.rejectWithValue(error.response.data.msg);\r\n};\r\n\r\nexport default customFetch;\r\n"],"mappings":"AAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAQ,4BAA4B,CACvD,OAASC,uBAAuB,KAAQ,gBAAgB,CAExD,GAAMC,YAAW,CAAGH,KAAK,CAACI,MAAM,CAAC,CAC/BC,OAAO,CAAE,kDACX,CAAC,CAAC,CAEFF,WAAW,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,SAACC,MAAM,CAAK,CAC/C,GAAMC,KAAI,CAAGR,uBAAuB,EAAE,CACtC,GAAIQ,IAAI,CAAE,CACRD,MAAM,CAACE,OAAO,CAAC,eAAe,CAAC,kBAAaD,IAAI,CAACE,KAAK,CAAE,CAC1D,CACA,MAAOH,OAAM,CACf,CAAC,CAAC,CAEF,MAAO,IAAMI,6BAA4B,CAAG,QAA/BA,6BAA4B,CAAIC,KAAK,CAAEC,QAAQ,CAAK,CAC/D,GAAID,KAAK,CAACE,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CACjCF,QAAQ,CAACG,QAAQ,CAACjB,UAAU,EAAE,CAAC,CAC/B,MAAOc,SAAQ,CAACI,eAAe,CAAC,8BAA8B,CAAC,CACjE,CACA,MAAOJ,SAAQ,CAACI,eAAe,CAACL,KAAK,CAACE,QAAQ,CAACI,IAAI,CAACC,GAAG,CAAC,CAC1D,CAAC,CAED,cAAelB,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}