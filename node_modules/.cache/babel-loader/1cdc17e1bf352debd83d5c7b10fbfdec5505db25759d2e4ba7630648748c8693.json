{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { toast } from 'react-toastify';\nimport { addUserToLocalStorage, getUserFromLocalStorage, removeUserFromLocalStorage } from '../../utils/localStorage';\nimport { loginUserThunk, registerUserThunk, updateUserThunk, clearStoreThunk } from './userThunk';\nconst initialState = {\n  isLoading: false,\n  isSidebarOpen: false,\n  user: getUserFromLocalStorage()\n};\nexport const registerUser = createAsyncThunk('user/registerUser', async (user, thunkAPI) => {\n  return registerUserThunk('/auth/register', user, thunkAPI);\n});\nexport const loginUser = createAsyncThunk('user/loginUser', async (user, thunkAPI) => {\n  return loginUserThunk('/auth/login', user, thunkAPI);\n});\nexport const updateUser = createAsyncThunk('user/updateUser', async (user, thunkAPI) => {\n  return updateUserThunk('/auth/updateUser', user, thunkAPI);\n});\nexport const clearStore = createAsyncThunk('user/clearStore', clearStoreThunk);\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    toggleSidebar: state => {\n      state.isSidebarOpen = !state.isSidebarOpen;\n    },\n    logoutUser: (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n      state.user = null;\n      state.isSidebarOpen = false;\n      removeUserFromLocalStorage();\n      if (payload) {\n        toast.success(payload);\n      }\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(registerUser.pending, state => {\n      state.isLoading = true;\n    }).addCase(registerUser.fulfilled, (state, _ref2) => {\n      let {\n        payload\n      } = _ref2;\n      const {\n        user\n      } = payload;\n      state.isLoading = false;\n      state.user = user;\n      addUserToLocalStorage(user);\n      toast.success(`Hello There ${user.name}`);\n    }).addCase(registerUser.rejected, (state, _ref3) => {\n      let {\n        payload\n      } = _ref3;\n      state.isLoading = false;\n      toast.error(payload);\n    }).addCase(loginUser.pending, state => {\n      state.isLoading = true;\n    }).addCase(loginUser.fulfilled, (state, _ref4) => {\n      let {\n        payload\n      } = _ref4;\n      const {\n        user\n      } = payload;\n      state.isLoading = false;\n      state.user = user;\n      addUserToLocalStorage(user);\n      toast.success(`Welcome Back ${user.name}`);\n    }).addCase(loginUser.rejected, (state, _ref5) => {\n      let {\n        payload\n      } = _ref5;\n      state.isLoading = false;\n      toast.error(payload);\n    }).addCase(updateUser.pending, state => {\n      state.isLoading = true;\n    }).addCase(updateUser.fulfilled, (state, _ref6) => {\n      let {\n        payload\n      } = _ref6;\n      const {\n        user\n      } = payload;\n      state.isLoading = false;\n      state.user = user;\n      addUserToLocalStorage(user);\n      toast.success(`User Updated!`);\n    }).addCase(updateUser.rejected, (state, _ref7) => {\n      let {\n        payload\n      } = _ref7;\n      state.isLoading = false;\n      toast.error(payload);\n    }).addCase(clearStore.rejected, () => {\n      toast.error('There was an error..');\n    });\n  }\n});\nexport const {\n  toggleSidebar,\n  logoutUser\n} = userSlice.actions;\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","toast","addUserToLocalStorage","getUserFromLocalStorage","removeUserFromLocalStorage","loginUserThunk","registerUserThunk","updateUserThunk","clearStoreThunk","initialState","isLoading","isSidebarOpen","user","registerUser","thunkAPI","loginUser","updateUser","clearStore","userSlice","name","reducers","toggleSidebar","state","logoutUser","payload","success","extraReducers","builder","addCase","pending","fulfilled","rejected","error","actions","reducer"],"sources":["C:/Reactjs/redux-toolkit-jobster/src/features/user/userSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n  addUserToLocalStorage,\r\n  getUserFromLocalStorage,\r\n  removeUserFromLocalStorage,\r\n} from '../../utils/localStorage';\r\nimport {\r\n  loginUserThunk,\r\n  registerUserThunk,\r\n  updateUserThunk,\r\n  clearStoreThunk,\r\n} from './userThunk';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  isSidebarOpen: false,\r\n  user: getUserFromLocalStorage(),\r\n};\r\n\r\nexport const registerUser = createAsyncThunk(\r\n  'user/registerUser',\r\n  async (user, thunkAPI) => {\r\n    return registerUserThunk('/auth/register', user, thunkAPI);\r\n  }\r\n);\r\n\r\nexport const loginUser = createAsyncThunk(\r\n  'user/loginUser',\r\n  async (user, thunkAPI) => {\r\n    return loginUserThunk('/auth/login', user, thunkAPI);\r\n  }\r\n);\r\n\r\nexport const updateUser = createAsyncThunk(\r\n  'user/updateUser',\r\n  async (user, thunkAPI) => {\r\n    return updateUserThunk('/auth/updateUser', user, thunkAPI);\r\n  }\r\n);\r\nexport const clearStore = createAsyncThunk('user/clearStore', clearStoreThunk);\r\nconst userSlice = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n    toggleSidebar: (state) => {\r\n      state.isSidebarOpen = !state.isSidebarOpen;\r\n    },\r\n    logoutUser: (state, { payload }) => {\r\n      state.user = null;\r\n      state.isSidebarOpen = false;\r\n      removeUserFromLocalStorage();\r\n      if (payload) {\r\n        toast.success(payload);\r\n      }\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(registerUser.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(registerUser.fulfilled, (state, { payload }) => {\r\n        const { user } = payload;\r\n        state.isLoading = false;\r\n        state.user = user;\r\n        addUserToLocalStorage(user);\r\n        toast.success(`Hello There ${user.name}`);\r\n      })\r\n      .addCase(registerUser.rejected, (state, { payload }) => {\r\n        state.isLoading = false;\r\n        toast.error(payload);\r\n      })\r\n      .addCase(loginUser.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(loginUser.fulfilled, (state, { payload }) => {\r\n        const { user } = payload;\r\n        state.isLoading = false;\r\n        state.user = user;\r\n        addUserToLocalStorage(user);\r\n\r\n        toast.success(`Welcome Back ${user.name}`);\r\n      })\r\n      .addCase(loginUser.rejected, (state, { payload }) => {\r\n        state.isLoading = false;\r\n        toast.error(payload);\r\n      })\r\n      .addCase(updateUser.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(updateUser.fulfilled, (state, { payload }) => {\r\n        const { user } = payload;\r\n        state.isLoading = false;\r\n        state.user = user;\r\n        addUserToLocalStorage(user);\r\n\r\n        toast.success(`User Updated!`);\r\n      })\r\n      .addCase(updateUser.rejected, (state, { payload }) => {\r\n        state.isLoading = false;\r\n        toast.error(payload);\r\n      })\r\n      .addCase(clearStore.rejected, () => {\r\n        toast.error('There was an error..');\r\n      });\r\n  },\r\n});\r\n\r\nexport const { toggleSidebar, logoutUser } = userSlice.actions;\r\nexport default userSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}