{"ast":null,"code":"import _regeneratorRuntime from\"C:/Reactjs/redux-toolkit-jobster/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Reactjs/redux-toolkit-jobster/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import{toast}from'react-toastify';import{addUserToLocalStorage,getUserFromLocalStorage,removeUserFromLocalStorage}from'../../utils/localStorage';import{loginUserThunk,registerUserThunk,updateUserThunk,clearStoreThunk}from'./userThunk';var initialState={isLoading:false,isSidebarOpen:false,user:getUserFromLocalStorage()};export var registerUser=createAsyncThunk('user/registerUser',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(user,thunkAPI){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",registerUserThunk('/auth/register',user,thunkAPI));case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());export var loginUser=createAsyncThunk('user/loginUser',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(user,thunkAPI){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",loginUserThunk('/auth/login',user,thunkAPI));case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}());export var updateUser=createAsyncThunk('user/updateUser',/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(user,thunkAPI){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt(\"return\",updateUserThunk('/auth/updateUser',user,thunkAPI));case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}());export var clearStore=createAsyncThunk('user/clearStore',clearStoreThunk);var userSlice=createSlice({name:'user',initialState:initialState,reducers:{toggleSidebar:function toggleSidebar(state){state.isSidebarOpen=!state.isSidebarOpen;},logoutUser:function logoutUser(state,_ref4){var payload=_ref4.payload;state.user=null;state.isSidebarOpen=false;removeUserFromLocalStorage();if(payload){toast.success(payload);}}},extraReducers:function extraReducers(builder){builder.addCase(registerUser.pending,function(state){state.isLoading=true;}).addCase(registerUser.fulfilled,function(state,_ref5){var payload=_ref5.payload;var user=payload.user;state.isLoading=false;state.user=user;addUserToLocalStorage(user);toast.success(\"Hello There \".concat(user.name));}).addCase(registerUser.rejected,function(state,_ref6){var payload=_ref6.payload;state.isLoading=false;toast.error(payload);}).addCase(loginUser.pending,function(state){state.isLoading=true;}).addCase(loginUser.fulfilled,function(state,_ref7){var payload=_ref7.payload;var user=payload.user;state.isLoading=false;state.user=user;addUserToLocalStorage(user);toast.success(\"Welcome Back \".concat(user.name));}).addCase(loginUser.rejected,function(state,_ref8){var payload=_ref8.payload;state.isLoading=false;toast.error(payload);}).addCase(updateUser.pending,function(state){state.isLoading=true;}).addCase(updateUser.fulfilled,function(state,_ref9){var payload=_ref9.payload;var user=payload.user;state.isLoading=false;state.user=user;addUserToLocalStorage(user);toast.success(\"User Updated!\");}).addCase(updateUser.rejected,function(state,_ref10){var payload=_ref10.payload;state.isLoading=false;toast.error(payload);}).addCase(clearStore.rejected,function(){toast.error('There was an error..');});}});var _userSlice$actions=userSlice.actions,toggleSidebar=_userSlice$actions.toggleSidebar,logoutUser=_userSlice$actions.logoutUser;export{toggleSidebar,logoutUser};export default userSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","toast","addUserToLocalStorage","getUserFromLocalStorage","removeUserFromLocalStorage","loginUserThunk","registerUserThunk","updateUserThunk","clearStoreThunk","initialState","isLoading","isSidebarOpen","user","registerUser","thunkAPI","loginUser","updateUser","clearStore","userSlice","name","reducers","toggleSidebar","state","logoutUser","payload","success","extraReducers","builder","addCase","pending","fulfilled","rejected","error","actions","reducer"],"sources":["C:/Reactjs/redux-toolkit-jobster/src/features/user/userSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n  addUserToLocalStorage,\r\n  getUserFromLocalStorage,\r\n  removeUserFromLocalStorage,\r\n} from '../../utils/localStorage';\r\nimport {\r\n  loginUserThunk,\r\n  registerUserThunk,\r\n  updateUserThunk,\r\n  clearStoreThunk,\r\n} from './userThunk';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  isSidebarOpen: false,\r\n  user: getUserFromLocalStorage(),\r\n};\r\n\r\nexport const registerUser = createAsyncThunk(\r\n  'user/registerUser',\r\n  async (user, thunkAPI) => {\r\n    return registerUserThunk('/auth/register', user, thunkAPI);\r\n  }\r\n);\r\n\r\nexport const loginUser = createAsyncThunk(\r\n  'user/loginUser',\r\n  async (user, thunkAPI) => {\r\n    return loginUserThunk('/auth/login', user, thunkAPI);\r\n  }\r\n);\r\n\r\nexport const updateUser = createAsyncThunk(\r\n  'user/updateUser',\r\n  async (user, thunkAPI) => {\r\n    return updateUserThunk('/auth/updateUser', user, thunkAPI);\r\n  }\r\n);\r\nexport const clearStore = createAsyncThunk('user/clearStore', clearStoreThunk);\r\nconst userSlice = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n    toggleSidebar: (state) => {\r\n      state.isSidebarOpen = !state.isSidebarOpen;\r\n    },\r\n    logoutUser: (state, { payload }) => {\r\n      state.user = null;\r\n      state.isSidebarOpen = false;\r\n      removeUserFromLocalStorage();\r\n      if (payload) {\r\n        toast.success(payload);\r\n      }\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(registerUser.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(registerUser.fulfilled, (state, { payload }) => {\r\n        const { user } = payload;\r\n        state.isLoading = false;\r\n        state.user = user;\r\n        addUserToLocalStorage(user);\r\n        toast.success(`Hello There ${user.name}`);\r\n      })\r\n      .addCase(registerUser.rejected, (state, { payload }) => {\r\n        state.isLoading = false;\r\n        toast.error(payload);\r\n      })\r\n      .addCase(loginUser.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(loginUser.fulfilled, (state, { payload }) => {\r\n        const { user } = payload;\r\n        state.isLoading = false;\r\n        state.user = user;\r\n        addUserToLocalStorage(user);\r\n\r\n        toast.success(`Welcome Back ${user.name}`);\r\n      })\r\n      .addCase(loginUser.rejected, (state, { payload }) => {\r\n        state.isLoading = false;\r\n        toast.error(payload);\r\n      })\r\n      .addCase(updateUser.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(updateUser.fulfilled, (state, { payload }) => {\r\n        const { user } = payload;\r\n        state.isLoading = false;\r\n        state.user = user;\r\n        addUserToLocalStorage(user);\r\n\r\n        toast.success(`User Updated!`);\r\n      })\r\n      .addCase(updateUser.rejected, (state, { payload }) => {\r\n        state.isLoading = false;\r\n        toast.error(payload);\r\n      })\r\n      .addCase(clearStore.rejected, () => {\r\n        toast.error('There was an error..');\r\n      });\r\n  },\r\n});\r\n\r\nexport const { toggleSidebar, logoutUser } = userSlice.actions;\r\nexport default userSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}