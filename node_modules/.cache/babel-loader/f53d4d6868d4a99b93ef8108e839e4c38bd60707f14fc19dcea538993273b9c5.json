{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { toast } from 'react-toastify';\nimport { getAllJobsThunk, showStatsThunk } from './allJobsThunk';\nconst initialFiltersState = {\n  search: '',\n  searchStatus: 'all',\n  searchType: 'all',\n  sort: 'latest',\n  sortOptions: ['latest', 'oldest', 'a-z', 'z-a']\n};\nconst initialState = {\n  isLoading: true,\n  jobs: [],\n  totalJobs: 0,\n  numOfPages: 1,\n  page: 1,\n  stats: {},\n  monthlyApplications: [],\n  ...initialFiltersState\n};\nexport const getAllJobs = createAsyncThunk('allJobs/getJobs', getAllJobsThunk);\nexport const showStats = createAsyncThunk('allJobs/showStats', showStatsThunk);\nconst allJobsSlice = createSlice({\n  name: 'allJobs',\n  initialState,\n  reducers: {\n    showLoading: state => {\n      state.isLoading = true;\n    },\n    hideLoading: state => {\n      state.isLoading = false;\n    },\n    handleChange: (state, _ref) => {\n      let {\n        payload: {\n          name,\n          value\n        }\n      } = _ref;\n      state.page = 1;\n      state[name] = value;\n    },\n    clearFilters: state => {\n      return {\n        ...state,\n        ...initialFiltersState\n      };\n    },\n    changePage: (state, _ref2) => {\n      let {\n        payload\n      } = _ref2;\n      state.page = payload;\n    },\n    clearAllJobsState: state => initialState\n  },\n  extraReducers: builder => {\n    builder.addCase(getAllJobs.pending, state => {\n      state.isLoading = true;\n    }).addCase(getAllJobs.fulfilled, (state, _ref3) => {\n      let {\n        payload\n      } = _ref3;\n      state.isLoading = false;\n      state.jobs = payload.jobs;\n      state.numOfPages = payload.numOfPages;\n      state.totalJobs = payload.totalJobs;\n    }).addCase(getAllJobs.rejected, (state, _ref4) => {\n      let {\n        payload\n      } = _ref4;\n      state.isLoading = false;\n      toast.error(payload);\n    }).addCase(showStats.pending, state => {\n      state.isLoading = true;\n    }).addCase(showStats.fulfilled, (state, _ref5) => {\n      let {\n        payload\n      } = _ref5;\n      state.isLoading = false;\n      state.stats = payload.defaultStats;\n      state.monthlyApplications = payload.monthlyApplications;\n    }).addCase(showStats.rejected, (state, _ref6) => {\n      let {\n        payload\n      } = _ref6;\n      state.isLoading = false;\n      toast.error(payload);\n    });\n  }\n});\nexport const {\n  showLoading,\n  hideLoading,\n  handleChange,\n  clearFilters,\n  changePage,\n  clearAllJobsState\n} = allJobsSlice.actions;\nexport default allJobsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","toast","getAllJobsThunk","showStatsThunk","initialFiltersState","search","searchStatus","searchType","sort","sortOptions","initialState","isLoading","jobs","totalJobs","numOfPages","page","stats","monthlyApplications","getAllJobs","showStats","allJobsSlice","name","reducers","showLoading","state","hideLoading","handleChange","payload","value","clearFilters","changePage","clearAllJobsState","extraReducers","builder","addCase","pending","fulfilled","rejected","error","defaultStats","actions","reducer"],"sources":["C:/Reactjs/redux-toolkit-jobster/src/features/allJobs/allJobsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { toast } from 'react-toastify';\r\nimport { getAllJobsThunk, showStatsThunk } from './allJobsThunk';\r\n\r\nconst initialFiltersState = {\r\n  search: '',\r\n  searchStatus: 'all',\r\n  searchType: 'all',\r\n  sort: 'latest',\r\n  sortOptions: ['latest', 'oldest', 'a-z', 'z-a'],\r\n};\r\n\r\nconst initialState = {\r\n  isLoading: true,\r\n  jobs: [],\r\n  totalJobs: 0,\r\n  numOfPages: 1,\r\n  page: 1,\r\n  stats: {},\r\n  monthlyApplications: [],\r\n  ...initialFiltersState,\r\n};\r\n\r\nexport const getAllJobs = createAsyncThunk('allJobs/getJobs', getAllJobsThunk);\r\n\r\nexport const showStats = createAsyncThunk('allJobs/showStats', showStatsThunk);\r\n\r\nconst allJobsSlice = createSlice({\r\n  name: 'allJobs',\r\n  initialState,\r\n  reducers: {\r\n    showLoading: (state) => {\r\n      state.isLoading = true;\r\n    },\r\n    hideLoading: (state) => {\r\n      state.isLoading = false;\r\n    },\r\n    handleChange: (state, { payload: { name, value } }) => {\r\n      state.page = 1;\r\n      state[name] = value;\r\n    },\r\n    clearFilters: (state) => {\r\n      return { ...state, ...initialFiltersState };\r\n    },\r\n    changePage: (state, { payload }) => {\r\n      state.page = payload;\r\n    },\r\n    clearAllJobsState: (state) => initialState,\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(getAllJobs.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(getAllJobs.fulfilled, (state, { payload }) => {\r\n        state.isLoading = false;\r\n        state.jobs = payload.jobs;\r\n        state.numOfPages = payload.numOfPages;\r\n        state.totalJobs = payload.totalJobs;\r\n      })\r\n      .addCase(getAllJobs.rejected, (state, { payload }) => {\r\n        state.isLoading = false;\r\n        toast.error(payload);\r\n      })\r\n      .addCase(showStats.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(showStats.fulfilled, (state, { payload }) => {\r\n        state.isLoading = false;\r\n        state.stats = payload.defaultStats;\r\n        state.monthlyApplications = payload.monthlyApplications;\r\n      })\r\n      .addCase(showStats.rejected, (state, { payload }) => {\r\n        state.isLoading = false;\r\n        toast.error(payload);\r\n      });\r\n  },\r\n});\r\n\r\nexport const {\r\n  showLoading,\r\n  hideLoading,\r\n  handleChange,\r\n  clearFilters,\r\n  changePage,\r\n  clearAllJobsState,\r\n} = allJobsSlice.actions;\r\n\r\nexport default allJobsSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}