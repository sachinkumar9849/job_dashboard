{"ast":null,"code":"import _regeneratorRuntime from\"C:/Reactjs/redux-toolkit-jobster/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Reactjs/redux-toolkit-jobster/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import customFetch,{checkForUnauthorizedResponse}from'../../utils/axios';import{clearAllJobsState}from'../allJobs/allJobsSlice';import{clearValues}from'../job/jobSlice';import{logoutUser}from'./userSlice';export var registerUserThunk=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(url,user,thunkAPI){var resp;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return customFetch.post(url,user);case 3:resp=_context.sent;return _context.abrupt(\"return\",resp.data);case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",thunkAPI.rejectWithValue(_context.t0.response.data.msg));case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function registerUserThunk(_x,_x2,_x3){return _ref.apply(this,arguments);};}();export var loginUserThunk=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(url,user,thunkAPI){var resp;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return customFetch.post(url,user);case 3:resp=_context2.sent;return _context2.abrupt(\"return\",resp.data);case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);return _context2.abrupt(\"return\",thunkAPI.rejectWithValue(_context2.t0.response.data.msg));case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function loginUserThunk(_x4,_x5,_x6){return _ref2.apply(this,arguments);};}();export var updateUserThunk=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(url,user,thunkAPI){var resp;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return customFetch.patch(url,user);case 3:resp=_context3.sent;return _context3.abrupt(\"return\",resp.data);case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);return _context3.abrupt(\"return\",checkForUnauthorizedResponse(_context3.t0,thunkAPI));case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function updateUserThunk(_x7,_x8,_x9){return _ref3.apply(this,arguments);};}();export var clearStoreThunk=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(message,thunkAPI){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;thunkAPI.dispatch(logoutUser(message));thunkAPI.dispatch(clearAllJobsState());thunkAPI.dispatch(clearValues());return _context4.abrupt(\"return\",Promise.resolve());case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);return _context4.abrupt(\"return\",Promise.reject());case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function clearStoreThunk(_x10,_x11){return _ref4.apply(this,arguments);};}();","map":{"version":3,"names":["customFetch","checkForUnauthorizedResponse","clearAllJobsState","clearValues","logoutUser","registerUserThunk","url","user","thunkAPI","post","resp","data","rejectWithValue","response","msg","loginUserThunk","updateUserThunk","patch","clearStoreThunk","message","dispatch","Promise","resolve","reject"],"sources":["C:/Reactjs/redux-toolkit-jobster/src/features/user/userThunk.js"],"sourcesContent":["import customFetch, { checkForUnauthorizedResponse } from '../../utils/axios';\r\nimport { clearAllJobsState } from '../allJobs/allJobsSlice';\r\nimport { clearValues } from '../job/jobSlice';\r\nimport { logoutUser } from './userSlice';\r\nexport const registerUserThunk = async (url, user, thunkAPI) => {\r\n  try {\r\n    const resp = await customFetch.post(url, user);\r\n    return resp.data;\r\n  } catch (error) {\r\n    return thunkAPI.rejectWithValue(error.response.data.msg);\r\n  }\r\n};\r\n\r\nexport const loginUserThunk = async (url, user, thunkAPI) => {\r\n  try {\r\n    const resp = await customFetch.post(url, user);\r\n    return resp.data;\r\n  } catch (error) {\r\n    return thunkAPI.rejectWithValue(error.response.data.msg);\r\n  }\r\n};\r\n\r\nexport const updateUserThunk = async (url, user, thunkAPI) => {\r\n  try {\r\n    const resp = await customFetch.patch(url, user);\r\n    return resp.data;\r\n  } catch (error) {\r\n    return checkForUnauthorizedResponse(error, thunkAPI);\r\n  }\r\n};\r\n\r\nexport const clearStoreThunk = async (message, thunkAPI) => {\r\n  try {\r\n    thunkAPI.dispatch(logoutUser(message));\r\n    thunkAPI.dispatch(clearAllJobsState());\r\n    thunkAPI.dispatch(clearValues());\r\n    return Promise.resolve();\r\n  } catch (error) {\r\n    return Promise.reject();\r\n  }\r\n};\r\n"],"mappings":"4PAAA,MAAOA,YAAW,EAAIC,4BAA4B,KAAQ,mBAAmB,CAC7E,OAASC,iBAAiB,KAAQ,yBAAyB,CAC3D,OAASC,WAAW,KAAQ,iBAAiB,CAC7C,OAASC,UAAU,KAAQ,aAAa,CACxC,MAAO,IAAMC,kBAAiB,4FAAG,iBAAOC,GAAG,CAAEC,IAAI,CAAEC,QAAQ,mKAEpCR,YAAW,CAACS,IAAI,CAACH,GAAG,CAAEC,IAAI,CAAC,QAAxCG,IAAI,+CACHA,IAAI,CAACC,IAAI,0FAETH,QAAQ,CAACI,eAAe,CAAC,YAAMC,QAAQ,CAACF,IAAI,CAACG,GAAG,CAAC,sEAE3D,kBAPYT,kBAAiB,oDAO7B,CAED,MAAO,IAAMU,eAAc,6FAAG,kBAAOT,GAAG,CAAEC,IAAI,CAAEC,QAAQ,yKAEjCR,YAAW,CAACS,IAAI,CAACH,GAAG,CAAEC,IAAI,CAAC,QAAxCG,IAAI,iDACHA,IAAI,CAACC,IAAI,8FAETH,QAAQ,CAACI,eAAe,CAAC,aAAMC,QAAQ,CAACF,IAAI,CAACG,GAAG,CAAC,wEAE3D,kBAPYC,eAAc,sDAO1B,CAED,MAAO,IAAMC,gBAAe,6FAAG,kBAAOV,GAAG,CAAEC,IAAI,CAAEC,QAAQ,yKAElCR,YAAW,CAACiB,KAAK,CAACX,GAAG,CAAEC,IAAI,CAAC,QAAzCG,IAAI,iDACHA,IAAI,CAACC,IAAI,8FAETV,4BAA4B,cAAQO,QAAQ,CAAC,wEAEvD,kBAPYQ,gBAAe,sDAO3B,CAED,MAAO,IAAME,gBAAe,6FAAG,kBAAOC,OAAO,CAAEX,QAAQ,yIAEnDA,QAAQ,CAACY,QAAQ,CAAChB,UAAU,CAACe,OAAO,CAAC,CAAC,CACtCX,QAAQ,CAACY,QAAQ,CAAClB,iBAAiB,EAAE,CAAC,CACtCM,QAAQ,CAACY,QAAQ,CAACjB,WAAW,EAAE,CAAC,CAAC,iCAC1BkB,OAAO,CAACC,OAAO,EAAE,8FAEjBD,OAAO,CAACE,MAAM,EAAE,wEAE1B,kBATYL,gBAAe,oDAS3B"},"metadata":{},"sourceType":"module","externalDependencies":[]}