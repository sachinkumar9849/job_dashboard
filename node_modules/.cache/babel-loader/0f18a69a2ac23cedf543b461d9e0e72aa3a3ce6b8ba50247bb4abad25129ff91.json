{"ast":null,"code":"import _toConsumableArray from\"C:/Reactjs/redux-toolkit-jobster/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Reactjs/redux-toolkit-jobster/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{FormRow,FormRowSelect}from'.';import Wrapper from'../assets/wrappers/SearchContainer';import{useSelector,useDispatch}from'react-redux';import{handleChange,clearFilters}from'../features/allJobs/allJobsSlice';import{useState,useMemo}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchContainer=function SearchContainer(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),localSearch=_useState2[0],setLocalSearch=_useState2[1];var _useSelector=useSelector(function(store){return store.allJobs;}),isLoading=_useSelector.isLoading,search=_useSelector.search,searchStatus=_useSelector.searchStatus,searchType=_useSelector.searchType,sort=_useSelector.sort,sortOptions=_useSelector.sortOptions;var _useSelector2=useSelector(function(store){return store.job;}),jobTypeOptions=_useSelector2.jobTypeOptions,statusOptions=_useSelector2.statusOptions;var dispatch=useDispatch();var handleSearch=function handleSearch(e){dispatch(handleChange({name:e.target.name,value:e.target.value}));};var debounce=function debounce(){var timeoutID;return function(e){setLocalSearch(e.target.value);clearTimeout(timeoutID);timeoutID=setTimeout(function(){dispatch(handleChange({name:e.target.name,value:e.target.value}));},1000);};};var optimizedDebounce=useMemo(function(){return debounce();},[]);var handleSubmit=function handleSubmit(e){e.preventDefault();setLocalSearch('');dispatch(clearFilters());};return/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"search form\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-center\",children:[/*#__PURE__*/_jsx(FormRow,{type:\"text\",name:\"search\",value:localSearch,handleChange:optimizedDebounce}),/*#__PURE__*/_jsx(FormRowSelect,{labelText:\"status\",name:\"searchStatus\",value:searchStatus,handleChange:handleSearch,list:['all'].concat(_toConsumableArray(statusOptions))}),/*#__PURE__*/_jsx(FormRowSelect,{labelText:\"type\",name:\"searchType\",value:searchType,handleChange:handleSearch,list:['all'].concat(_toConsumableArray(jobTypeOptions))}),/*#__PURE__*/_jsx(FormRowSelect,{name:\"sort\",value:sort,handleChange:handleSearch,list:sortOptions}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-block btn-danger\",disabled:isLoading,onClick:handleSubmit,children:\"clear filters\"})]})]})});};export default SearchContainer;","map":{"version":3,"names":["FormRow","FormRowSelect","Wrapper","useSelector","useDispatch","handleChange","clearFilters","useState","useMemo","SearchContainer","localSearch","setLocalSearch","store","allJobs","isLoading","search","searchStatus","searchType","sort","sortOptions","job","jobTypeOptions","statusOptions","dispatch","handleSearch","e","name","target","value","debounce","timeoutID","clearTimeout","setTimeout","optimizedDebounce","handleSubmit","preventDefault"],"sources":["C:/Reactjs/redux-toolkit-jobster/src/components/SearchContainer.js"],"sourcesContent":["import { FormRow, FormRowSelect } from '.';\r\nimport Wrapper from '../assets/wrappers/SearchContainer';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { handleChange, clearFilters } from '../features/allJobs/allJobsSlice';\r\nimport { useState, useMemo } from 'react';\r\n\r\nconst SearchContainer = () => {\r\n  const [localSearch, setLocalSearch] = useState('');\r\n\r\n  const { isLoading, search, searchStatus, searchType, sort, sortOptions } =\r\n    useSelector((store) => store.allJobs);\r\n\r\n  const { jobTypeOptions, statusOptions } = useSelector((store) => store.job);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSearch = (e) => {\r\n    dispatch(handleChange({ name: e.target.name, value: e.target.value }));\r\n  };\r\n\r\n  const debounce = () => {\r\n    let timeoutID;\r\n    return (e) => {\r\n      setLocalSearch(e.target.value);\r\n      clearTimeout(timeoutID);\r\n      timeoutID = setTimeout(() => {\r\n        dispatch(handleChange({ name: e.target.name, value: e.target.value }));\r\n      }, 1000);\r\n    };\r\n  };\r\n  const optimizedDebounce = useMemo(() => debounce(), []);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLocalSearch('');\r\n    dispatch(clearFilters());\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <form className='form'>\r\n        <h4>search form</h4>\r\n        <div className='form-center'>\r\n          {/* search position */}\r\n          <FormRow\r\n            type='text'\r\n            name='search'\r\n            value={localSearch}\r\n            handleChange={optimizedDebounce}\r\n          />\r\n          {/* search by status */}\r\n          <FormRowSelect\r\n            labelText='status'\r\n            name='searchStatus'\r\n            value={searchStatus}\r\n            handleChange={handleSearch}\r\n            list={['all', ...statusOptions]}\r\n          />\r\n\r\n          {/* search by type*/}\r\n          <FormRowSelect\r\n            labelText='type'\r\n            name='searchType'\r\n            value={searchType}\r\n            handleChange={handleSearch}\r\n            list={['all', ...jobTypeOptions]}\r\n          />\r\n          {/* sort */}\r\n          <FormRowSelect\r\n            name='sort'\r\n            value={sort}\r\n            handleChange={handleSearch}\r\n            list={sortOptions}\r\n          />\r\n          <button\r\n            className='btn btn-block btn-danger'\r\n            disabled={isLoading}\r\n            onClick={handleSubmit}\r\n          >\r\n            clear filters\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default SearchContainer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}